<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>BOOM! BOX | Shop All</title>

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Bungee&family=Space+Grotesk:wght@400;700&display=swap" rel="stylesheet" />

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />

    <script src="https://cdn.tailwindcss.com"></script>

    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              'acid-purple': '#6B2CF5',
              'neon-lime': '#CCFF00',
              'hot-pink': '#FF0099',
              'electric-blue': '#2D00F7',
              'warning-yellow': '#FFEA00',
              'off-white': '#F0F0F0',
            },
            fontFamily: {
              display: ['"Bungee"', 'cursive'],
              body: ['"Space Grotesk"', 'sans-serif'],
            },
            boxShadow: {
              hard: '5px 5px 0px 0px #000000',
              'hard-sm': '3px 3px 0px 0px #000000',
            },
            borderWidth: {
              3: '3px',
            },
          },
        },
      };
    </script>

    <style>
      /* Tab 激活状态的物理位移模拟 */
      .tab-btn.active {
        transform: translateY(-8px);
        border-bottom: 3px solid transparent; /* 遮住底部分割线 */
        z-index: 10;
      }
      .tab-btn:not(.active) {
        background-color: white;
        color: black;
        top: 4px; /* 下沉效果 */
      }
      .tab-btn:not(.active):hover {
        background-color: #f3f4f6;
        transform: translateY(-4px);
      }

      /* 内容切换动画 */
      .grid-section {
        display: none;
        animation: fadeIn 0.4s ease-out;
      }
      .grid-section.active {
        display: grid;
      }
      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      /* Hide scrollbar for the tab bar (keep scrolling) */
      .no-scrollbar {
        -ms-overflow-style: none; /* IE/Edge */
        scrollbar-width: none; /* Firefox */
      }
      .no-scrollbar::-webkit-scrollbar {
        display: none; /* Chrome/Safari */
      }

      /* (optional) Helps ensure the "lifted" active tab isn't clipped by scroll container behavior */
      .tab-bar {
        overflow-y: visible;
        padding-top: 12px; /* room for translateY(-8px) */
        padding-bottom: 0;
      }

      /* Add-to-cart "fly to cart" animation */
      .cart-flyer {
        position: fixed;
        left: 0;
        top: 0;
        width: 36px;
        height: 36px;
        border: 2px solid #000;
        border-radius: 9999px;
        background: #fff;
        background-size: cover;
        background-position: center;
        box-shadow: 3px 3px 0px 0px #000000;
        pointer-events: none;
        z-index: 9999;
        will-change: transform, opacity;
        transition:
          transform 650ms cubic-bezier(0.2, 0.8, 0.2, 1),
          opacity 650ms ease;
      }

      @keyframes cartBump {
        0% {
          transform: scale(1);
        }
        40% {
          transform: scale(1.15);
        }
        100% {
          transform: scale(1);
        }
      }
      .cart-bump {
        animation: cartBump 220ms ease-out;
      }
    </style>
  </head>
  <body class="bg-off-white font-body text-black min-h-screen flex flex-col">
    <nav class="bg-white border-b-3 border-black py-4 sticky top-0 z-50 shadow-hard">
      <div class="container mx-auto px-4 flex justify-between items-center">
        <div class="flex items-center gap-4">
          <a href="#" class="text-2xl font-display text-acid-purple drop-shadow-[2px_2px_0_#000]">BOOM! BOX</a>
          <span class="bg-black text-white px-2 py-0.5 text-xs font-display transform -rotate-3">STORE</span>
        </div>
        <div class="flex gap-4">
          <button class="w-10 h-10 rounded-full border-3 border-black bg-white hover:bg-gray-100 flex items-center justify-center">
            <i class="fa-solid fa-filter"></i>
          </button>

          <!-- add id + badge for animation target -->
          <button
            id="cart-btn"
            class="w-10 h-10 rounded-full border-3 border-black bg-warning-yellow flex items-center justify-center shadow-hard-sm relative"
            type="button"
          >
            <i class="fa-solid fa-cart-shopping"></i>
            <span
              id="cart-badge"
              class="hidden absolute -top-2 -right-2 min-w-6 h-6 px-1 rounded-full bg-black text-white border-2 border-white text-xs font-bold flex items-center justify-center"
              >0</span
            >
          </button>
        </div>
      </div>
    </nav>

    <div class="container mx-auto px-4 py-8 flex-1">
      <div class="mb-10 text-center relative">
        <h1 class="font-display text-5xl md:text-7xl mb-2" style="text-shadow: 4px 4px 0 #000; -webkit-text-stroke: 2px black; color: white">
          PICK YOUR POISON
        </h1>
        <p class="font-bold text-gray-500">Official Drops & Verified Resales</p>
      </div>

      <!-- Tab bar -->
      <div class="tab-bar flex items-end gap-2 overflow-x-auto border-b-3 border-black px-2 relative z-10 no-scrollbar">
        <button
          onclick="switchTab('hot', 'bg-warning-yellow', 'text-black')"
          class="tab-btn active bg-warning-yellow text-black border-3 border-black rounded-t-xl px-6 py-3 font-display text-lg min-w-[120px] transition-all relative top-0"
          data-tab="hot"
        >
          <i class="fa-solid fa-fire mr-1"></i> HOT
        </button>

        <button
          onclick="switchTab('figures', 'bg-electric-blue', 'text-white')"
          class="tab-btn bg-white border-3 border-black rounded-t-xl px-6 py-3 font-display text-lg min-w-[140px] transition-all relative top-0"
          data-tab="figures"
        >
          <i class="fa-solid fa-robot mr-1"></i> FIGURES
        </button>

        <button
          onclick="switchTab('plush', 'bg-hot-pink', 'text-white')"
          class="tab-btn bg-white border-3 border-black rounded-t-xl px-6 py-3 font-display text-lg min-w-[120px] transition-all relative top-0"
          data-tab="plush"
        >
          <i class="fa-solid fa-paw mr-1"></i> PLUSH
        </button>

        <button
          onclick="switchTab('art', 'bg-neon-lime', 'text-black')"
          class="tab-btn bg-white border-3 border-black rounded-t-xl px-6 py-3 font-display text-lg min-w-[120px] transition-all relative top-0"
          data-tab="art"
        >
          <i class="fa-solid fa-palette mr-1"></i> ART
        </button>
      </div>

      <div class="bg-white border-3 border-black border-t-0 rounded-b-3xl p-6 shadow-hard min-h-[600px] relative z-0">
        <div id="hot" class="grid-section active grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
          <div class="group border-3 border-black rounded-2xl p-3 hover:-translate-y-2 hover:shadow-hard transition-all duration-200">
            <div class="relative bg-gray-100 rounded-xl border-2 border-black overflow-hidden mb-3 aspect-square">
              <span class="absolute top-2 right-2 bg-red-500 text-white border-2 border-black px-2 py-0.5 text-xs font-bold z-10">LOW STOCK</span>
              <img
                src="https://placehold.co/400x400/FFEA00/000?text=SKULLPANDA"
                class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"
              />
            </div>
            <h3 class="font-bold text-lg truncate">Skullpanda Image</h3>
            <div class="flex justify-between items-center mt-2">
              <span class="font-display text-xl">$15.99</span>
              <button
                data-add-to-cart="true"
                class="w-8 h-8 bg-warning-yellow border-2 border-black rounded-full flex items-center justify-center hover:bg-black hover:text-white transition-colors"
                type="button"
              >
                <i class="fa-solid fa-plus"></i>
              </button>
            </div>
          </div>
          <div class="group border-3 border-black rounded-2xl p-3 hover:-translate-y-2 hover:shadow-hard transition-all duration-200">
            <div class="relative bg-gray-100 rounded-xl border-2 border-black overflow-hidden mb-3 aspect-square">
              <img
                src="https://placehold.co/400x400/FFEA00/000?text=DIMOO"
                class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"
              />
            </div>
            <h3 class="font-bold text-lg truncate">Dimoo Zodiac</h3>
            <div class="flex justify-between items-center mt-2">
              <span class="font-display text-xl">$16.50</span>
              <button
                class="w-8 h-8 bg-warning-yellow border-2 border-black rounded-full flex items-center justify-center hover:bg-black hover:text-white transition-colors"
              >
                <i class="fa-solid fa-plus"></i>
              </button>
            </div>
          </div>
          <div class="group border-3 border-black rounded-2xl p-3 hover:-translate-y-2 hover:shadow-hard transition-all duration-200">
            <div class="relative bg-gray-100 rounded-xl border-2 border-black overflow-hidden mb-3 aspect-square">
              <span class="absolute top-2 left-2 bg-acid-purple text-white border-2 border-black px-2 py-0.5 text-xs font-bold z-10">NEW</span>
              <img
                src="https://placehold.co/400x400/FFEA00/000?text=LABUBU"
                class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"
              />
            </div>
            <h3 class="font-bold text-lg truncate">Labubu Macaron</h3>
            <div class="flex justify-between items-center mt-2">
              <span class="font-display text-xl">$22.00</span>
              <button
                class="w-8 h-8 bg-warning-yellow border-2 border-black rounded-full flex items-center justify-center hover:bg-black hover:text-white transition-colors"
              >
                <i class="fa-solid fa-plus"></i>
              </button>
            </div>
          </div>
          <div class="group border-3 border-black rounded-2xl p-3 hover:-translate-y-2 hover:shadow-hard transition-all duration-200">
            <div class="relative bg-gray-100 rounded-xl border-2 border-black overflow-hidden mb-3 aspect-square">
              <img
                src="https://placehold.co/400x400/FFEA00/000?text=HIRONO"
                class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"
              />
            </div>
            <h3 class="font-bold text-lg truncate">Hirono V5</h3>
            <div class="flex justify-between items-center mt-2">
              <span class="font-display text-xl">$18.00</span>
              <button
                class="w-8 h-8 bg-warning-yellow border-2 border-black rounded-full flex items-center justify-center hover:bg-black hover:text-white transition-colors"
              >
                <i class="fa-solid fa-plus"></i>
              </button>
            </div>
          </div>
        </div>

        <div id="figures" class="grid-section grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
          <div class="group border-3 border-black rounded-2xl p-3 hover:-translate-y-2 hover:shadow-[5px_5px_0_#2D00F7] transition-all duration-200">
            <div class="relative bg-gray-100 rounded-xl border-2 border-black overflow-hidden mb-3 aspect-square">
              <img
                src="https://placehold.co/400x400/2D00F7/fff?text=MEGA+SPACE"
                class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"
              />
            </div>
            <h3 class="font-bold text-lg truncate">Mega Space Molly</h3>
            <div class="flex justify-between items-center mt-2">
              <span class="font-display text-xl text-electric-blue">$250.00</span>
              <button
                class="w-8 h-8 bg-electric-blue text-white border-2 border-black rounded-full flex items-center justify-center hover:bg-black hover:text-white transition-colors"
              >
                <i class="fa-solid fa-plus"></i>
              </button>
            </div>
          </div>
          <div
            class="col-span-1 md:col-span-3 border-3 border-dashed border-gray-300 rounded-2xl flex flex-col items-center justify-center text-gray-400 p-10"
          >
            <i class="fa-solid fa-robot text-4xl mb-4"></i>
            <p class="font-bold">More Figures Loading...</p>
          </div>
        </div>

        <div id="plush" class="grid-section grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
          <div class="group border-3 border-black rounded-2xl p-3 hover:-translate-y-2 hover:shadow-[5px_5px_0_#FF0099] transition-all duration-200">
            <div class="relative bg-gray-100 rounded-xl border-2 border-black overflow-hidden mb-3 aspect-square">
              <img
                src="https://placehold.co/400x400/FF0099/fff?text=LABUBU+PLUSH"
                class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"
              />
            </div>
            <h3 class="font-bold text-lg truncate">Labubu Plush 40cm</h3>
            <div class="flex justify-between items-center mt-2">
              <span class="font-display text-xl text-hot-pink">$85.00</span>
              <button
                class="w-8 h-8 bg-hot-pink text-white border-2 border-black rounded-full flex items-center justify-center hover:bg-black hover:text-white transition-colors"
              >
                <i class="fa-solid fa-plus"></i>
              </button>
            </div>
          </div>
        </div>

        <div id="art" class="grid-section grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
          <div class="group border-3 border-black rounded-2xl p-3 hover:-translate-y-2 hover:shadow-[5px_5px_0_#CCFF00] transition-all duration-200">
            <div class="relative bg-gray-100 rounded-xl border-2 border-black overflow-hidden mb-3 aspect-square">
              <img
                src="https://placehold.co/400x400/CCFF00/000?text=PRINT"
                class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"
              />
            </div>
            <h3 class="font-bold text-lg truncate">Signed Art Print</h3>
            <div class="flex justify-between items-center mt-2">
              <span class="font-display text-xl text-black">$40.00</span>
              <button
                class="w-8 h-8 bg-neon-lime text-black border-2 border-black rounded-full flex items-center justify-center hover:bg-black hover:text-white transition-colors"
              >
                <i class="fa-solid fa-plus"></i>
              </button>
            </div>
          </div>
        </div>

        <div class="h-12"></div>

        <div class="absolute bottom-[-24px] left-1/2 transform -translate-x-1/2 w-full max-w-lg px-4">
          <div
            class="bg-black text-white border-3 border-white shadow-hard rounded-full p-2 flex justify-between items-center relative overflow-hidden"
          >
            <div class="absolute top-0 left-0 h-full w-1/3 bg-gray-800 -z-10 rounded-l-full"></div>

            <button
              class="w-10 h-10 rounded-full bg-white text-black border-2 border-black flex items-center justify-center hover:bg-gray-200 active:scale-95 transition-all"
            >
              <i class="fa-solid fa-caret-left text-xl"></i>
            </button>

            <div class="flex gap-2 font-display text-lg">
              <span class="text-neon-lime">1</span>
              <span class="text-gray-600">2</span>
              <span class="text-gray-600">3</span>
              <span class="text-gray-600">...</span>
              <span class="text-gray-600">9</span>
            </div>

            <button
              id="pagination-next-btn"
              class="w-10 h-10 rounded-full bg-warning-yellow text-black border-2 border-black flex items-center justify-center hover:bg-white active:scale-95 transition-all shadow-[0_0_10px_#FFEA00]"
            >
              <i class="fa-solid fa-caret-right text-xl"></i>
            </button>
          </div>
        </div>
      </div>
    </div>

    <div class="h-20"></div>

    <script>
      function switchTab(tabId, activeBgClass, activeTextClass) {
        // 1. Reset all tabs styling
        const allTabs = document.querySelectorAll('.tab-btn');
        allTabs.forEach((tab) => {
          tab.classList.remove('active');
          tab.classList.remove('bg-warning-yellow', 'bg-electric-blue', 'bg-hot-pink', 'bg-neon-lime', 'text-white', 'text-black');
          tab.classList.add('bg-white', 'text-black');
        });

        // 2. Hide all content sections
        const allSections = document.querySelectorAll('.grid-section');
        allSections.forEach((section) => section.classList.remove('active'));

        // 3. Style the clicked tab
        const activeTab = document.querySelector(`button[data-tab="${tabId}"]`);
        if (activeTab) {
          activeTab.classList.add('active');
          activeTab.classList.remove('bg-white', 'text-black');
          activeTab.classList.add(activeBgClass);
          if (activeTextClass) activeTab.classList.add(activeTextClass);
        }

        // 4. Show the target content
        const target = document.getElementById(tabId);
        if (target) target.classList.add('active');

        // 5. Update Pagination Button Color to match theme
        const nextBtn = document.getElementById('pagination-next-btn');
        if (nextBtn) {
          nextBtn.classList.remove('bg-warning-yellow', 'bg-electric-blue', 'bg-hot-pink', 'bg-neon-lime', 'text-white', 'text-black');
          nextBtn.classList.add(activeBgClass);
          if (activeTextClass) nextBtn.classList.add(activeTextClass);

          const colorMap = { hot: '#FFEA00', figures: '#2D00F7', plush: '#FF0099', art: '#CCFF00' };
          nextBtn.style.boxShadow = `0 0 10px ${colorMap[tabId] || '#FFEA00'}`;
        }
      }
    </script>

    <script>
      // Add-to-cart fly animation (event delegation)
      (function initAddToCartAnimation() {
        const cartBtn = document.getElementById('cart-btn');
        const cartBadge = document.getElementById('cart-badge');
        if (!cartBtn) return;

        let cartCount = 0;

        function bumpCart() {
          cartBtn.classList.remove('cart-bump');
          // force reflow so animation can replay
          void cartBtn.offsetWidth;
          cartBtn.classList.add('cart-bump');
        }

        function setBadge(count) {
          if (!cartBadge) return;
          cartBadge.textContent = String(count);
          cartBadge.classList.toggle('hidden', count <= 0);
        }

        function animateFlyToCart(fromEl) {
          const targetRect = cartBtn.getBoundingClientRect();

          const card = fromEl.closest('.group');
          const img = card ? card.querySelector('img') : null;
          const sourceRect = (img || fromEl).getBoundingClientRect();

          const startX = sourceRect.left + sourceRect.width / 2;
          const startY = sourceRect.top + sourceRect.height / 2;
          const endX = targetRect.left + targetRect.width / 2;
          const endY = targetRect.top + targetRect.height / 2;

          const flyer = document.createElement('div');
          flyer.className = 'cart-flyer';

          if (img && img.getAttribute('src')) {
            flyer.style.backgroundImage = `url("${img.getAttribute('src')}")`;
          } else {
            flyer.style.background = '#FFEA00';
          }

          // place at start (centered)
          flyer.style.transform = 'translate(0px, 0px) scale(1)';
          flyer.style.opacity = '1';
          flyer.style.left = `${startX - 18}px`;
          flyer.style.top = `${startY - 18}px`;

          document.body.appendChild(flyer);

          const dx = endX - startX;
          const dy = endY - startY;

          requestAnimationFrame(() => {
            flyer.style.transform = `translate(${dx}px, ${dy}px) scale(0.1)`;
            flyer.style.opacity = '0.2';
          });

          flyer.addEventListener(
            'transitionend',
            () => {
              flyer.remove();
              bumpCart();
            },
            { once: true },
          );
        }

        document.addEventListener('click', (e) => {
          const btn = e.target.closest('button[data-add-to-cart="true"]');
          if (!btn) return;

          animateFlyToCart(btn);

          cartCount += 1;
          setBadge(cartCount);
        });
      })();
    </script>
  </body>
</html>
